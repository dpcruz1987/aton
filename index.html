<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ATON ‚Ä¢ Cadastro de Produtos (Innovex)</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">INNOVEX</div>
      <div class="title">
        <h1>ATON ‚Ä¢ Cadastro de Produtos</h1>
        <p class="muted">Listar ‚Ä¢ Buscar ‚Ä¢ Criar ‚Ä¢ Editar ‚Ä¢ Excluir</p>
      </div>
    </div>

    <div class="actions">
      <button id="btnOpenSettings" class="btn ghost">‚öôÔ∏è Config</button>
      <button id="btnNew" class="btn primary">+ Novo produto</button>
      <button id="btnReload" class="btn">‚ü≥ Recarregar</button>
    </div>
  </header>

  <main class="container">
    <section class="panel">
      <div class="panel-head">
        <div class="search">
          <input id="q" type="text" placeholder="Buscar por nome, SKU, EAN, ID..." />
          <button id="btnSearch" class="btn">Buscar</button>
          <button id="btnClear" class="btn ghost">Limpar</button>
        </div>

        <div class="right">
          <div class="chips">
            <span class="chip" id="chipCount">0 itens</span>
            <span class="chip ok" id="chipStatus">Pronto</span>
          </div>
        </div>
      </div>

      <div class="panel-body">
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th style="width:90px;">ID</th>
                <th>Produto</th>
                <th style="width:140px;">SKU</th>
                <th style="width:160px;">EAN</th>
                <th style="width:120px;" class="right">Pre√ßo</th>
                <th style="width:120px;" class="right">Estoque</th>
                <th style="width:220px;">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="tbody">
              <tr><td colspan="7" class="muted center">Carregue os produtos para come√ßar.</td></tr>
            </tbody>
          </table>
        </div>

        <div class="footnote muted">
          Dica: se a API n√£o permitir chamadas do navegador (CORS), use o <b>proxy</b> Node no final desta resposta.
        </div>
      </div>
    </section>
  </main>

  <!-- MODAL: FORM PRODUTO -->
  <dialog id="dlgProduct" class="dlg">
    <form method="dialog" id="formProduct" class="dlg-card">
      <div class="dlg-head">
        <h2 id="dlgTitle">Produto</h2>
        <button class="icon-btn" value="cancel" aria-label="Fechar">‚úï</button>
      </div>

      <div class="grid">
        <label>
          <span>ID</span>
          <input id="p_id" type="text" placeholder="(autom√°tico)" disabled />
        </label>

        <label>
          <span>Nome*</span>
          <input id="p_name" type="text" required placeholder="Ex: C√¢mera IP Hikvision..." />
        </label>

        <label>
          <span>SKU</span>
          <input id="p_sku" type="text" placeholder="Ex: DS-2CD..." />
        </label>

        <label>
          <span>EAN</span>
          <input id="p_ean" type="text" placeholder="Ex: 789..." />
        </label>

        <label>
          <span>Pre√ßo</span>
          <input id="p_price" type="number" step="0.01" placeholder="0,00" />
        </label>

        <label>
          <span>Estoque</span>
          <input id="p_stock" type="number" step="1" placeholder="0" />
        </label>

        <label class="full">
          <span>Observa√ß√µes</span>
          <textarea id="p_notes" rows="3" placeholder="Opcional..."></textarea>
        </label>
      </div>

      <div class="dlg-actions">
        <button id="btnDelete" class="btn danger ghost" type="button">üóë Excluir</button>
        <div class="spacer"></div>
        <button class="btn ghost" value="cancel">Cancelar</button>
        <button id="btnSave" class="btn primary" type="submit">Salvar</button>
      </div>
    </form>
  </dialog>

  <!-- MODAL: SETTINGS -->
  <dialog id="dlgSettings" class="dlg">
    <form method="dialog" id="formSettings" class="dlg-card">
      <div class="dlg-head">
        <h2>Configura√ß√£o</h2>
        <button class="icon-btn" value="cancel" aria-label="Fechar">‚úï</button>
      </div>

      <div class="grid">
        <label class="full">
          <span>Modo de conex√£o</span>
          <select id="mode">
            <option value="proxy">Proxy (recomendado)</option>
            <option value="direct">Direto (pode falhar por CORS)</option>
          </select>
          <small class="muted">Proxy = navegador chama seu servidor, e seu servidor chama o ATON.</small>
        </label>

        <label class="full">
          <span>BASE_URL ATON (somente modo direto)</span>
          <input id="baseUrl" type="text" placeholder="https://api.seu-aton.com" />
        </label>

        <label class="full">
          <span>Proxy URL (somente modo proxy)</span>
          <input id="proxyUrl" type="text" placeholder="http://localhost:3000" />
        </label>

        <label class="full">
          <span>Header do Token (ex: Authorization)</span>
          <input id="tokenHeader" type="text" placeholder="Authorization" />
        </label>

        <label class="full">
          <span>Prefixo do Token (ex: Bearer )</span>
          <input id="tokenPrefix" type="text" placeholder="Bearer " />
        </label>

        <label class="full">
          <span>Token (evite em produ√ß√£o no browser)</span>
          <input id="token" type="password" placeholder="cole seu token aqui" />
          <small class="muted">Para produ√ß√£o: guarde o token no backend (proxy) e remova do front.</small>
        </label>

        <fieldset class="full">
          <legend>Endpoints (ajuste conforme o Postman do ATON)</legend>

          <label>
            <span>Listar / Criar</span>
            <input id="epProducts" type="text" placeholder="/produtos" />
          </label>

          <label>
            <span>Detalhe / Atualizar / Excluir</span>
            <input id="epProductById" type="text" placeholder="/produtos/{id}" />
          </label>

          <label class="full">
            <span>Query de busca (opcional)</span>
            <input id="searchParam" type="text" placeholder="q" />
            <small class="muted">Ex: GET /produtos?q=texto (se sua API suportar).</small>
          </label>
        </fieldset>
      </div>

      <div class="dlg-actions">
        <button class="btn ghost" value="cancel">Cancelar</button>
        <button id="btnSaveSettings" class="btn primary" type="submit">Salvar</button>
      </div>
    </form>
  </dialog>

  <script src="./app.js"></script>
</body>
</html>
